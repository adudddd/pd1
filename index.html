<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cosmic Convergence</title>
  <style>
    /* Basic Reset & Body Styling */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: #000;
      font-family: sans-serif;
      overflow: hidden;
    }
    .container {
      position: relative;
      width: 100%;
      height: 100%;
      background: radial-gradient(ellipse at center, #000 0%, #111 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #fff;
    }
    /* Header, Message, and Progress Bar */
    .header {
      z-index: 10;
      text-align: center;
      margin-bottom: 20px;
    }
    .title {
      font-size: 2.5rem;
      margin: 0;
    }
    .message {
      font-size: 1.25rem;
      margin-top: 10px;
    }
    .progress-container {
      width: 300px;
      height: 10px;
      background: #333;
      border-radius: 5px;
      overflow: hidden;
      margin: 20px auto;
    }
    .progress-bar {
      height: 100%;
      width: 0%;
      background-color: #555;
      transition: width 0.5s;
    }
    /* Interactive Area */
    .interactive-area {
      position: relative;
      width: 90%;
      max-width: 800px;
      height: 400px;
      background: transparent;
      overflow: hidden;
      z-index: 5;
    }
    /* Cosmic Halves (Universe Elements) */
    .cosmic {
      position: absolute;
      width: 150px;
      height: 150px;
      border-radius: 50%;
      transition: transform 1s ease, opacity 1s ease;
    }
    #cosmic-left {
      background: radial-gradient(circle, #6a3093, #a044ff);
      left: 5%;
      top: 50%;
      transform: translate(-50%, -50%);
    }
    #cosmic-right {
      background: radial-gradient(circle, #f12711, #f5af19);
      right: 5%;
      top: 50%;
      transform: translate(50%, -50%);
    }
    /* Moon */
    .moon {
      position: absolute;
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: radial-gradient(circle, #fff, #ccc);
      top: 10%;
      right: 10%;
      box-shadow: 0 0 20px 5px rgba(255, 255, 200, 0.7);
      transition: transform 1s ease, opacity 1s ease;
      z-index: 6;
    }
    /* Blackhole */
    .blackhole {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: radial-gradient(circle, #000, #000 70%);
      z-index: 20;
      opacity: 0;
    }
    .blackhole.grow {
      animation: growBlackhole 2s forwards;
    }
    @keyframes growBlackhole {
      0% {
        transform: translate(-50%, -50%) scale(0);
        opacity: 0;
      }
      100% {
        transform: translate(-50%, -50%) scale(5);
        opacity: 1;
      }
    }
    /* Sucked In Animation */
    .sucked {
      transform: translate(0, 0) scale(0);
      opacity: 0;
    }
    /* Restart Button */
    .restart-button {
      position: absolute;
      bottom: 20px;
      z-index: 30;
      padding: 10px 20px;
      background: #ec4899;
      border: none;
      border-radius: 20px;
      color: #fff;
      cursor: pointer;
      transition: background 0.3s;
    }
    .restart-button:hover {
      background: #db2777;
    }
  </style>
</head>
<body>
  <div class="container" id="container">
    <div class="header">
      <h1 class="title">Cosmic Convergence</h1>
      <div class="message" id="message">
        Click or press Space to begin the cosmic journey...
      </div>
      <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
    </div>
    <div class="interactive-area" id="interactive-area">
      <!-- Cosmic halves represent pieces of the universe -->
      <div class="cosmic" id="cosmic-left"></div>
      <div class="cosmic" id="cosmic-right"></div>
      <!-- The Moon, which will eventually be sucked in -->
      <div class="moon" id="moon"></div>
      <!-- Blackhole element (hidden initially) -->
      <div class="blackhole" id="blackhole"></div>
    </div>
    <button class="restart-button" id="restart-button" style="display: none;">
      Restart
    </button>
  </div>
  
  <script>
    // --- State Variables ---
    let clicks = 0;
    const maxClicks = 10;
    const messages = [
      "The cosmos stirs with ancient secrets...",
      "Galaxies whisper as they drift apart...",
      "Stardust begins to coalesce...",
      "A gravitational dance unfolds...",
      "Celestial bodies gravitate toward destiny...",
      "The universe shifts in silent rhythm...",
      "Cosmic forces intensify...",
      "Energy converges into a singular point...",
      "A vortex of infinite power emerges...",
      "The black hole consumes all..."
    ];
    
    // --- Element References ---
    const messageEl = document.getElementById('message');
    const progressBar = document.getElementById('progress-bar');
    const cosmicLeft = document.getElementById('cosmic-left');
    const cosmicRight = document.getElementById('cosmic-right');
    const moon = document.getElementById('moon');
    const blackhole = document.getElementById('blackhole');
    const restartButton = document.getElementById('restart-button');
    const interactiveArea = document.getElementById('interactive-area');
    
    // --- Update Functions ---
    function updateProgress() {
      const percent = (clicks / maxClicks) * 100;
      progressBar.style.width = percent + '%';
    }
    
    function updateMessage() {
      messageEl.textContent = messages[clicks] || "The void beckons...";
    }
    
    function updateCosmicPositions() {
      // Move cosmic halves toward the center based on progress
      const moveFactor = (clicks / maxClicks) * 50; // percentage movement
      cosmicLeft.style.transform = `translate(${moveFactor}%, -50%)`;
      cosmicRight.style.transform = `translate(-${moveFactor}%, -50%)`;
    }
    
    function handleProgress() {
      if (clicks < maxClicks) {
        clicks++;
        updateMessage();
        updateProgress();
        updateCosmicPositions();
        if (clicks === maxClicks) {
          formBlackHole();
        }
      }
    }
    
    function formBlackHole() {
      // Animate cosmic halves and moon to be sucked in
      cosmicLeft.classList.add('sucked');
      cosmicRight.classList.add('sucked');
      moon.classList.add('sucked');
      
      // After a short delay, reveal the blackhole
      setTimeout(() => {
        blackhole.classList.add('grow');
        // After the black hole forms, hide the cosmic elements entirely
        setTimeout(() => {
          cosmicLeft.style.display = 'none';
          cosmicRight.style.display = 'none';
          moon.style.display = 'none';
          restartButton.style.display = 'block';
        }, 2000);
      }, 1000);
    }
    
    function resetAnimation() {
      clicks = 0;
      updateMessage();
      updateProgress();
      // Reset cosmic halves and moon
      cosmicLeft.classList.remove('sucked');
      cosmicRight.classList.remove('sucked');
      moon.classList.remove('sucked');
      cosmicLeft.style.display = 'block';
      cosmicRight.style.display = 'block';
      moon.style.display = 'block';
      
      // Hide blackhole and reset its properties
      blackhole.classList.remove('grow');
      blackhole.style.opacity = 0;
      blackhole.style.transform = 'translate(-50%, -50%) scale(0)';
      
      restartButton.style.display = 'none';
    }
    
    // --- Event Listeners ---
    interactiveArea.addEventListener('click', () => {
      handleProgress();
    });
    
    window.addEventListener('keydown', (e) => {
      if (e.code === 'Space' || e.code === 'ArrowRight') {
        handleProgress();
      }
    });
    
    restartButton.addEventListener('click', resetAnimation);
    
    // Initial setup
    updateMessage();
  </script>
</body>
</html>
